<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>PrismJS Animator</title>
	<meta name="robots" content="noindex">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism.min.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>

	<div class="container my-5">

		<div class="row justify-content-center mb-5">
			<div class="col-lg-10 col-xl-8">
				<h2>Basic example</h2>
				<p>1. Start with a simple target element</p>
				<pre><code class="language-html">&lt;div id="editor"&gt;&lt;div&gt;</code></pre>
				<p>2. Initate code animator</p>
				<pre><code class="language-javascript">new PrismAnimator( {
    element: document.getElementById( 'editor' ),
    language: 'javascript',
    code: 'var example = "Hello world";',
    charactersPerMinute: 600
} );</code></pre>
				<p>3. Output ðŸŽ‰</p>
				<div id="example-1"></div>
			</div>
		</div>

		<div class="row justify-content-center mb-5">
			<div class="col-lg-10 col-xl-8">
				<h2>Animating &lt;script&gt; contents</h2>
				<p>By grabbing the contents of the <code>script#example-2-code</code> tag we can animate exact code that initiates the animation.</p>
				<div id="example-2"></div>
			</div>
		</div>

		<div class="row justify-content-center mb-5">
			<div class="col-lg-10 col-xl-8">
				<h2>Controls</h2>
				<p>The PrismAnimator class comes with methods to play, pause and reset the animation.</p>
				<div id="example-3">
					<div class="editor"></div>
					<div class="btn-group">
						<button type="button" class="btn btn-success" data-action="play">Play</button>
						<button type="button" class="btn btn-warning" data-action="pause">Pause</button>
						<button type="button" class="btn btn-danger" data-action="reset">Reset</button>
					</div>
				</div>
			</div>
		</div>

	</div>

	<script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
	<script src="./dist/prism-animator.js"></script>
	<script id="example-1-code">
		( function() {
			'use strict';

			const editor = document.getElementById( 'example-1' );
			new PrismAnimator( {
				element: editor,
				language: 'javascript',
				code: 'var example = "Hello world";',
				charactersPerMinute: 600
			} );

		} )();
	</script>
	<script id="example-2-code">
		( function() {
			'use strict';

			const cpm = 600; // Characters per minute.
			const editor = document.getElementById( 'example-2' );
			let code = document.getElementById( 'example-2-code' ).innerHTML;
				code = code.replace( /^\t{2}/gm, '' ).trim(); // Remove whitespace.

			// Init animator.
			new PrismAnimator( {
				element: editor,
				language: 'javascript',
				code: code,
				charactersPerMinute: cpm
			} );

		} )();
	</script>
	<script id="example-3-code">
		( function() {
			'use strict';

			const container = document.getElementById( 'example-3' );
			const editor = container.querySelector( '.editor' );
			const play = container.querySelector( '[data-action="play"]' );
			const pause = container.querySelector( '[data-action="pause"]' );
			const reset = container.querySelector( '[data-action="reset"]' );

			let code = document.getElementById( 'example-3-code' ).innerHTML;
				code = code.replace( /^\t{2}/gm, '' ).trim(); // Remove whitespace.

			const animator = new PrismAnimator( {
				element: editor,
				language: 'javascript',
				code: code,
				charactersPerMinute: 1000
			} );

			play.addEventListener( 'click', () => animator.play() );
			pause.addEventListener( 'click', () => animator.pause() );
			reset.addEventListener( 'click', () => animator.reset() );

		} )();
	</script>
</body>
</html>
